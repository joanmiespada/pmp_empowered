language: node_js
node_js: node
cache:
  directories:
  - node_modules
  yarn: true
script: cd ./apis && yarn bootstrap --ignore-engines && yarn test
before_install:
- openssl aes-256-cbc -K $encrypted_b5075aaea773_key -iv $encrypted_b5075aaea773_iv
  -in ./apis/certs/apicert.pem.enc -out ./apis/certs/apicert.pem -d
- npm install -g lerna
env:
  global:
  - secure: s30RvYHOuZ9XdfzOjbx+ZP7x5gaaQVhTeOJM4oDY45YUVpo6NtR0f2GkLFuQzGlh1skrKhgcmqp2tGJQ4koDlca2LX9DoeHcUu8l/xFp2o33sCtA3JIqGSxYE3vuQ5gB3cdL6vMlCQiMY9gSItFI90k3wjRxIWlPzWbNabqMsvzIlGiirHbQqbpd3kg4T13Vrd04iBDLfkz2pkiJrGyUS3/w4Ek9aTiy002Arj2P8hJm0dqlUhQnumbb0Rfijop1aRXfG67T06i1wBlkx8AcqWc5008xJQl3fDAqFNBWbpvLr8r6sSUHd8VP/LkOlD4UK+Q24klVILFjr448vlTnZYr1ammfZRicKEG4awGoB8i/7xpV6kB23dqk2FUTVfNeDOaQlHc4Ii+ZH7dw5qU1PtO8JORx1OXso3sDmCVWpaosgyPw+SEeTuwZqcaud2tVrwZaNDYW4I91QSp89eXJwg739slqWQQbLWUgRj5eiWSz8KuWLkNIlMigP+nJt3myo88mzBKIS5vbEdwxVhonUoccPmJANwkdPOwV+gE0hPlO+JfUq8VyrPUKt7KFb7aUw2kTMKMI3RBUNbjpaHPps7l49xSUpWYVp6AS/UdGDM8Q0AaXEl7J2gPMmTlRrmtV9vxk6a6Th+Km40EUjm1IecakRl9Opsv8UzVaeQA4UAY=
  - secure: pGIWjgdMSCpYKS2kXqiSWTIofAp9gThWcb2ScSBPTn3mGviJT73f5yd1eJwheFRt2DMOXeeSpmTKAK7pvqvEGetPGkWkSWRmFXYkbicYWLM7b8HS7PPKs701pdGWoMzUJHyHBHiCc0gZDfQcmdtY4tQGsPnnPLk32Jwhk95zaW05JeesyC5fXPQPdZhYXUyRwfMavz3mv5w+6LIpVlzwL2hik5UGJjsgDrb8zgnMqhW0+9KFh5DgIG+l8ubueoCI888jLMhMVvAZkgwnowMmC3WPGFtdCGD9AQMDIgslxHYXWOw4rlq2RSI+6VZvsUzKLrFlyIQ4Uf23lYJaLrHojQZWCC0ImStkusPbmBhJTDxvS1xRxxVuQMg7KlcAQ5B6vex00a+LYqnm0AnxguAAWcTlOgLyQovVAa/SIu3Y0IdKVDTSbWY6KWVlFGboiWjye1K768bbLLjBZkCIycKjSkXuQTTgLhzOlZJsFRnsOkoxwTyUhshYgluCbyUC3GShuXGtLDngV6EIrno8G6UvSFIQumTpvUZewZv2cf/lnhQMuvXXGQtQxiPQFt9wjYf2qQhZos48rX9HhSHWojdvFRNWUtjUkws86GDH9zMnjeR6UYjXhAllVWXnC4HBXZCiTQNv+GH3PmjJXnexBZr6C5a031NdXXSL1xHJGMyl0QM=
  - secure: O7ln9X+z4CX26h5PIYv6QMAdJa4vaL8xR5joydcjZT09H74eK13jT2vb/M3XfJljM2IH9VPq/SZpmoSyJUvaWOcvu7DNmoeBknaRjJnDhEeHKN1mubSzDRbiGgZQtcMsy5k5W8eDtgQ6aXp2as240+s2iCUaEgka87wzfJZw6X7eZGXQJf053tjzL17y5A4IxNmKV6cmO8hdI+r++EYWxXMAHil7VrIM9Sa2pN2SBs/CMFuI2vTae/gh13o5uxrSxv1uasmGFhViQt21u9eD3bXuarSlIm/zNfJiP0JefC5WtVKHGoI4oiefr32zqWxukrPrahs+Yyml7Lfq65uwhHTQk75E5wRSH1ooUlv8S5xFOADx87atlXH3o7Y3cHwsOnzfsqIrpeqziygbXNh8t9bQIz5dBTvtoY2Babs4wolErkowotj4K9FT/Vnpv7xKWLvtnl+EMgQdZbfKnGDxLKpeJ4wEWoVwOxc9hL93/4LCOVehhzlOc4ejcrDYBnMsWroqI+b+t70wQ2XSSUefO5LAoMKtGZpfn/7VjnT0nfnkprb5a520yPQaWW7sbhets4ivfZVrbMcqMs74LQ8T/F5OefBLcw2DWogM2QDMwtNPwx1d3hA7IjxBKkX4SzNw0Ivi08iquoQ2oarfmEp3ahZ4Z44JCzeclCbV/W0lh1g=
  - secure: AbfHtgsgiT8NopeEkXU+vwilZG7H2eXpsN4ASXxE5D8lGiyspK83spwMvf/4IPRUbjuC28FmUrr1sDb90R0c1IywDccxwVH3U8dEON9nQGkXPuZpw+HlsUj2K9E9cNqmE03EluXvKdRLRLNIxGCGma/XrL2biNBqPIUhLxMq+xkFDpH0OdYHiFjQuYG2D2P+6JO6bFHDagIa8CyCkov4YIOnBbGJvM0uJhk/urE+FYTJYjVedeFBPYHPlSAJeK0PKa8duWMokIxaQj0rlaJ3u3yHM4LidYIJnXwoOqmTJYo+aHeLjhCAiJG7zo3ANF70wdm5fESNEPLkOKxFo75gkqnIPy5V7eGFn/Q+BXKQqxqxWnZSqOP7nnPxBljQXstTmvokrVFzl1+qja3EE/f1xjitO5eCRAbkhHnoKKOPT+Zedj0/TL29pB+meENAE1Grt4+maHSwLHI6l/Hh1Dxe3kJtg1TsHvjoUVWgekZlA/RuGvRGOZa1CkFDEzertGfS2IvZ4VWlLx5V7H9Yh3rHwVy0qQYnNsqrc5Um9VaJ2zyzJGYrGkQI1s9DpJpSHuQsmPwcMfqdMIZojMaBIfr7lScdyOR3ktRFwkny8D6oKBe9BI+kXBk5aP8zYnOoFjidS0KoNJ8taCFHD+Eg4OgeBynpH6SeX17B8zrcR3Qe4hg=
  - secure: bJ1lA7Txp9gZZr61TcnCNpAq6Y04uTekz5Cnee/NbYrXhoCqFwIedYipzvNO7n9nzU3F+9qJ39xPnUWeYTEYtoJ8pHN6GIIQDkWApVBJkFnIKfA7AsaZDPVDTfpp7bCnA4uv6uIVDk3hV1DIisff5j8rghsvi4K96cZpLSG6ZQHYaG3nFMkFweOmFH9NjgsEoBhTakznyYOHu0UUYlZjiqboLuhKVWVmNHVvW6HYFQyaXDzPrbRCm+qYYINDnC1XgJDBVaATp/g+BqiB8KS2l4WgcEnv5HW2mz1IBu9LySx33dmp2yzS64UZc/HwfVODYEjGLyJWmE7Ow3eT6cChw3Jw3PwSDaz5xdIRFbCVS/i0Zxmu8k6i0CM5Cd1tlQdXKrb0tB3y0JbVW2S9p5gJ1k1+wGHk9fWnaRKFST+wbsF/UWf3dHkjp1s8UNru+kGli5Au1ByZOxng803F5tbJLMrdAXIZ1JU0PibAatWElHotBA9BQOMq7Vwclp9pJnPu9EsSJO0s+iF6/z9ST8k8gOKWH7ptkpRS7zaoPl8gC5tusqEypmml/Kq22bfftF6s2Q9jVKekUPv2+fk/YbOONsF6o4nc3nJDqOEty8Vm19VN11WDqyspUW3K45ZUkcbibWBH31i5BctjhWXfRuzezEOXZQ5tXdt/j2hK+p6JWlk=
  - secure: SpQdgyGSg7VDYk1VDzu8M3JQ9lqFeL1s8765/7TGUEaHTivvYumNViu1jaSPNBPWxCB0hqNItTGQ1iAjbMbHSNrmkFbqP/ZGeU1L/UU4s0SUvOm80iCwRxcMI1ze6H/0blg1GxIZiwdGGTDElNTruWkAqO5/AIxeRxCbs964T+BGe3cS90Wsv2bBWebu+2eDz86xVMYNhyTlCns/qcxpgKbkK6Cq1WQk/Th85z9x58wg/fiQH3RC3bdenZLeGSYIwj6nJC6OpCMMicr6yrefitRNpZhxr/Kv6qQ+LCWheaJtHX3b4HeNfR3G5iVZO3yjXyVcextpMAIl9q/EZHellyBfBcwc0QEwiUGmrL9c+r6w2BBXr9puIvbiLrLVpN8x7sEBjaBWKgwdnaUey0oTAMoHotjSvmMNT7CjmKv4hbJr8a8JxQZ6Ub0PKXjwd7y/i33hFnwnboqzzlvZczVEwiu2pP9Sex08DxENHGDYiV/mEbbv46p/czFdTADbbv9dGO6cDnemip9/u7VEVyKd5LVPymjOTWue1uqls2UiAnuH0YbZKVM8PgD0P2/DC/2Gnd68aYR2jAbf3u6GEEKimu7S2K/XiWCCoLWujv/pZuaXKQKm/T2Z/69/iAf+NCIh45Rn3vnIHcq97vo8SrJjMB+tX2xFFUO6gJBGhqEx44I=
dd:
  secure: mLDVVgeiLclu1f4HuN2S2/dLSjRGn0N/3N0dsUcXMNyAeKjJP667bZMeLhmFG8/md2nj21kEYrSxeRBuY6xT+FV+eK3oTNZa/nbAoCpmM3DDiPvsPp7WVAli7mterN9Jic8pY7HAPysCt2L9HcG5CFEo99Bniclv35an7U/FwhUGIiYnjj1LHK6cPHiM7WR65dgqwHxlOlx6u6v/ycSuEilJhbLyee8GhugWPZdW2sYg8kwAySXsJ8wIYi0EFy731HwfPUft1NdkCyQFtGj/GD1BBIPrZvMaoHL7QAPzAxjU5jEBr2hoLWMQlHLG5/YMMMqZQNNSGLXovCQ/yC4r1QH5wFum2p6L4cwkSWiPrnZnEw7Wlco2CY0tJdaojWeJy8REINi4d8O20qMsxrGgMLf2YwXIsLVgg59m+I8YcOZkB6Ij4C0aEge2XCtdbWI+wASkvSIviBxWRUxlQ7GBSHg3oW6007xtXwUJcTKskAtD6QevCI/PEQplDyM6kaAnv6nIWibUQmsDqXZk/nukso2O5OsjdYSTT9sPhagFQXOsqQUmFalXKNEBFydDrjcyrSF9MoW24sWC1JFGUGjrHZpAOI3ORJfqpfWBJPv+L066v0fx9RJPo6m9ujU4ToM2FK0dyqslDa/o5gMnLV2r7s9SnhJfLzRgcQYaoTVoEPU=
after_success: coveralls
